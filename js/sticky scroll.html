<!doctype html>
<html>
<!--[if lt IE 7]> <html class="no-js ie lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie lt-ie9 lt-ie8 ie7" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie lt-ie9 ie8" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie ie9" lang="en"> <![endif]-->
<!--[if gt IE 9]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
	<meta charset="utf-8">
	<title>home</title>
	
	<meta property="og:title" content="" />
	<meta name="author" content="">
	<meta name="description" content="">
	<meta property="og:description" content="" />
	<meta property="og:image" content="" />
	<!-- 
	<meta name="twitter:card" content="summary_large_image">
	<meta name="twitter:site" content="@site_username">
	<meta name="twitter:title" content="Top 10 Things Ever">
	<meta name="twitter:description" content="Up than 200 characters.">
	<meta name="twitter:creator" content="@creator_username">
	<meta name="twitter:image" content="http://placekitten.com/250/250">
	<meta name="twitter:domain" content="YourDomain.com">
	-->
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="stylesheet" href="./public/css/reset.css">	
	<link rel="stylesheet" href="./public/css/style.css">
</head>
<body>
	<!--[if lt IE 9]>
		<script>
			document.createElement('header');
			document.createElement('nav');
			document.createElement('section');
			document.createElement('article');
			document.createElement('aside');
			document.createElement('footer');
			document.createElement('figure');
		</script>
	<![endif]-->
	<style type="text/css">
		.js-stickyOnScroll__content{outline: 1px solid red;}


		.js-stickyOnScroll.is-fixed{z-index: 100; position: fixed; left: 0; right: 0; margin-right: auto; margin-left: auto;}
	</style>
	<div class="wrapper">
		<div class="inner">
			
			<div class="js-stickyOnScroll__content">
				<div class="js-stickyOnScroll">top item fixed</div>
				<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
			</div>
			<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
			<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
			<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
			<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
			<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
		</div><!--/.inner-->
	</div><!--/.wrapper-->	
	<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
	<script>
		jQuery(function($){
		    $(".js-stickyOnScroll").each(function(){
		        console.log($(this));
		        var $initialElement = $(this).removeClass("js-stickyOnScroll")
		        ,   $stickyOnScroll = $initialElement.clone().addClass("js-stickyOnScroll");
		        $stickyOnScroll.hide().insertAfter($(this));
		        $(window).scroll(function(){
		            var sTop = $(this).scrollTop(); // current scroll position
		            console.log({sTop});
		            var $stickyOnScroll__content = $stickyOnScroll.closest(".js-stickyOnScroll__content");
		            if($stickyOnScroll__content.length > 0){
		                var headerHeight = $(".header").outerHeight(true)|0;
		                var limitTop = $initialElement.offset()["top"]-headerHeight
		                console.log({limitTop});
		                var limitBot = limitTop+$stickyOnScroll__content.height()-headerHeight-$stickyOnScroll.outerHeight(true);
		                console.log({limitBot});
		                if(sTop > limitTop && sTop < limitBot){
		                    $stickyOnScroll.show()
		                        .addClass("is-fixed")
		                        .css({
		                            "width": $initialElement.width(),
		                            "top": headerHeight
		                        })
		                }else{
		                    $stickyOnScroll.hide().removeClass("is-fixed")
		                        .css({
		                            "top": "auto"
		                        })
		                }
		            }
		        });
		    });
		});
	</script>
</body>
</html>